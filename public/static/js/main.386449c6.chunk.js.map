{"version":3,"sources":["components/NavBar.js","components/LoginForm.js","components/SignUpForm.js","pages/Login.js","components/BlogCard.js","components/Blogs.js","components/CommentCard.js","components/CommentForm.js","pages/BlogPage.js","components/EditBlog.js","components/BlogEditor.js","pages/WelcomePage.js","pages/BlogForm.js","App.js","index.js"],"names":["NavBar","Navbar","bg","variant","Brand","Image","src","width","height","className","alt","roundedCircle","Container","to","exact","style","color","LoginForm","setCurrentUser","useState","username","setUsername","password","setPassword","errors","setErrors","Form","onSubmit","e","preventDefault","currentUser","fetch","method","headers","body","JSON","stringify","then","res","ok","json","user","err","Group","Label","type","id","value","onChange","target","htmlFor","Button","map","SignUpForm","avatar","setAvatar","Control","Login","showLogin","setShowLogin","alignItems","justifyContent","onClick","BlogCard","blog","setSelectedBlog","addViewCount","Card","border","Title","title","views","Blogs","blogs","display","gridTemplateColumns","CommentCard","comment","updateComment","listStyleType","content","likes","parseInt","r","updatedComment","role","dislikes","CommentForm","onAddComment","setContent","commentData","blog_id","user_id","newComment","name","BlogPage","selectedBlog","commentForm","setCommentForm","setBlog","comments","setComments","handleUpdateComment","updatedComments","useEffect","window","location","pathname","split","data","Modal","Dialog","topic","Body","Footer","EditBlog","onUpdateBlog","handleDelete","setTitle","setTopic","updatedBlog","autoComplete","rows","cols","size","BlogEditor","updateBlog","deleteBlog","editBlog","setEditBlog","Subtitle","updatedBlogs","deletedBlog","filter","WelcomePage","commentedBlogs","uniqueBlogs","commented_blogs","includes","push","CardGroup","BlogForm","onAddBlog","reset","blogData","App","setBlogs","path","console","log","updatedUser","newBlog","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.386449c6.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { Container } from \"react-bootstrap\";\nimport Image from \"react-bootstrap/Image\";\n\nfunction NavBar() {\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\">\n      <Navbar.Brand>\n        <Image\n          src=\"https://t4.ftcdn.net/jpg/04/11/39/77/360_F_411397771_TYwKZCENTf7RJUuxll4tqjrxbkvkAC9U.jpg\"\n          width=\"75\"\n          height=\"75\"\n          className=\"d-inline-block align-top\"\n          alt=\"Sunil's Gym Logo\"\n          roundedCircle\n        />\n      </Navbar.Brand>\n      <Navbar.Brand>Sunil's BlogSpot</Navbar.Brand>\n      <Container>\n        <NavLink to=\"/\" exact style={{ color: \"white\" }}>\n          Home Page\n        </NavLink>\n        <NavLink to=\"/blogs\" exact style={{ color: \"white\" }}>\n          Blogs\n        </NavLink>\n        <NavLink to=\"/createpost\" exact style={{ color: \"white\" }}>\n          Create Post\n        </NavLink>\n      </Container>\n    </Navbar>\n  );\n}\n\nexport default NavBar;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction LoginForm({ setCurrentUser }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const currentUser = {\n      username,\n      password,\n    };\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(currentUser),\n    }).then((res) => {\n      if (res.ok) {\n        res.json().then((user) => setCurrentUser(user));\n      } else {\n        res.json().then((err) => setErrors(err.errors));\n      }\n    });\n  }\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Username</Form.Label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <Button type=\"submit\">Log In</Button>\n      </Form>\n      {errors ? errors.map((err) => <p key={err}>{err}</p>) : null}\n    </>\n  );\n}\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction SignUpForm({ setCurrentUser }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      username,\n      password,\n      avatar,\n    };\n    fetch(\"/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    }).then((res) => {\n      if (res.ok) {\n        res.json().then((user) => setCurrentUser(user));\n      } else {\n        res.json().then((err) => setErrors(err.errors));\n      }\n    });\n  }\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>\n            Username\n            <Form.Control\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </Form.Label>\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>\n            Password\n            <Form.Control\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Form.Label>\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>\n            Avatar\n            <Form.Control\n              type=\"text\"\n              id=\"avatar\"\n              value={avatar}\n              onChange={(e) => setAvatar(e.target.value)}\n            />\n          </Form.Label>\n        </Form.Group>\n        <Button type=\"submit\">Sign Up</Button>\n      </Form>\n      {errors ? errors.map((err) => <p key={err}>{err}</p>) : null}\n    </>\n  );\n}\n\nexport default SignUpForm;\n","import { useState } from \"react\";\nimport LoginForm from \"../components/LoginForm\";\nimport SignUpForm from \"../components/SignUpForm\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction Login({ setCurrentUser }) {\n  const [showLogin, setShowLogin] = useState(true);\n\n  return (\n    <div\n      style={{\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"50vh\",\n      }}\n    >\n      {showLogin ? (\n        <>\n          <LoginForm setCurrentUser={setCurrentUser} />\n\n          <p>\n            Don't have an account?\n            <Button onClick={() => setShowLogin(false)}>Sign Up</Button>\n          </p>\n        </>\n      ) : (\n        <>\n          <SignUpForm setCurrentUser={setCurrentUser} />\n\n          <p>\n            Already have an account?\n            <Button onClick={() => setShowLogin(true)}>Log In</Button>\n          </p>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Container, Card } from \"react-bootstrap\";\n\nfunction BlogCard({ blog, setSelectedBlog, addViewCount }) {\n  function handleClick() {\n    setSelectedBlog(blog);\n    addViewCount(blog);\n  }\n\n  return (\n    <Container>\n      <Card style={{ width: \"18rem\" }} bg=\"light\" border=\"dark\">\n        <NavLink to={`/blogs/${blog.id}`} exact onClick={handleClick}>\n          <Card.Title>{blog.title}</Card.Title>\n        </NavLink>\n        <p>Posted by: {blog.user.username}</p>\n        <small className=\"text-muted\">Views: {blog.views}</small>\n      </Card>\n    </Container>\n  );\n}\n\nexport default BlogCard;\n","import React from \"react\";\nimport BlogCard from \"./BlogCard\";\n\nfunction Blogs({ blogs, setSelectedBlog, addViewCount }) {\n  // const [orderedBlogs, setOrderedBlogs] = useState([]);\n\n  // function order() {\n  //   fetch(\"http://localhost:3000/order\")\n  //     .then((res) => res.json())\n  //     .then((data) => setOrderedBlogs(data));\n  // }\n\n  return (\n    <>\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(4, 1fr)\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          height: \"50vh\",\n        }}\n      >\n        {blogs.map((blog)=>(\n            <BlogCard\n              key={blog.id}\n              blog={blog}\n              setSelectedBlog={setSelectedBlog}\n              addViewCount={addViewCount}\n            />\n          )\n        )}\n      </div>\n      {/* <div>\n        <button onClick={order}>order</button>\n      </div> */}\n    </>\n  );\n}\n\nexport default Blogs;\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction CommentCard({ comment, updateComment }) {\n  function addLike(e) {\n    e.preventDefault();\n    fetch(`/comments/${comment.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        likes: parseInt(comment.likes) + 1,\n      }),\n    })\n      .then((r) => r.json())\n      .then((updatedComment) => updateComment(updatedComment));\n  }\n\n  function addDislike(e) {\n    e.preventDefault();\n    fetch(`/comments/${comment.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        dislikes: parseInt(comment.dislikes) + 1,\n      }),\n    })\n      .then((r) => r.json())\n      .then((updatedComment) => updateComment(updatedComment));\n  }\n\n  return (\n    <ul style={{ listStyleType: \"none\" }}>\n      <li>\n        <p>\n          {comment.content} - {comment.user.username}\n        </p>\n\n        <Button variant=\"outline-success\" onClick={addLike}>\n          <span role=\"img\" aria-label=\"like\">\n            üëç{comment.likes}\n          </span>\n        </Button>\n        <Button variant=\"outline-danger\" onClick={addDislike}>\n          <span role=\"img\" aria-label=\"dislike\">\n            üëé{comment.dislikes}\n          </span>\n        </Button>\n      </li>\n    </ul>\n  );\n}\n\nexport default CommentCard;\n","import React, { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction CommentForm({ blog, currentUser, onAddComment }) {\n  const [content, setContent] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const commentData = {\n      content: content,\n      blog_id: blog.id,\n      user_id: currentUser.id,\n      likes: 0,\n      dislikes: 0,\n    };\n    fetch(\"/comments\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(commentData),\n    }).then((r) => {\n      if (r.ok) {\n        r.json().then((newComment) => onAddComment(newComment));\n      } else {\n        r.json().then((err) => setErrors(err.errors));\n      }\n      setContent(\"\");\n    });\n  }\n\n  return (\n    <>\n      <div>\n        <form onSubmit={handleSubmit}>\n          <label>\n            Comment:\n            <input\n              type=\"text\"\n              name=\"content\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          </label>\n          {errors ? errors.map((err) => <p key={err}>{err}</p>) : null}\n          <Button type=\"submit\">Leave Comment</Button>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default CommentForm;\n","import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport CommentCard from \"../components/CommentCard\";\nimport CommentForm from \"../components/CommentForm\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\n\nfunction BlogPage({ selectedBlog, currentUser, setSelectedBlog }) {\n  const [commentForm, setCommentForm] = useState(false);\n  const [blog, setBlog] = useState(selectedBlog);\n  const [comments, setComments] = useState(selectedBlog.comments);\n\n  useEffect(() => {\n    let id = window.location.pathname.split(\"/\")[2];\n    if (id) {\n      fetch(`/blogs/${id}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setBlog(data);\n          setComments(data.comments);\n        });\n    }\n  }, []);\n\n  function handleClick() {\n    setCommentForm((commentForm) => !commentForm);\n  }\n\n  function handleAddComment(newComment) {\n    setComments((comments) => [...comments, newComment]);\n  }\n\n  function handleUpdateComment(updatedComment) {\n    const updatedComments = comments.map((comment) => {\n      if (comment.id === updatedComment.id) {\n        return updatedComment;\n      } else {\n        return comment;\n      }\n    });\n    setComments(updatedComments);\n  }\n\n  return (\n    <Modal.Dialog>\n      <Modal.Title>\n        <h1>{blog.title}</h1>\n        <h3>{blog.topic}</h3>\n        <h4>Author: {blog.user && blog.user.username}</h4>\n      </Modal.Title>\n      <Modal.Body>\n        <p>{blog.content}</p>\n      </Modal.Body>\n      <br></br>\n      <Modal.Footer\n        style={{\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <h5 style={{ display: \"inline-block\" }}>Comments</h5>\n        {!commentForm ? (\n          <Button onClick={handleClick}>Leave a Comment</Button>\n        ) : null}\n      </Modal.Footer>\n      {commentForm ? (\n        <CommentForm\n          blog={blog}\n          currentUser={currentUser}\n          onAddComment={handleAddComment}\n        />\n      ) : null}\n      {comments &&\n        comments.map((comment) => (\n          <CommentCard\n            key={comment.id}\n            comment={comment}\n            updateComment={handleUpdateComment}\n          />\n        ))}\n      <NavLink to={\"/blogs\"}>\n        <p>Return to Blogs</p>\n      </NavLink>\n    </Modal.Dialog>\n  );\n}\n\nexport default BlogPage;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction EditBlog({ blog, onUpdateBlog, currentUser, handleDelete }) {\n  const [title, setTitle] = useState(blog.title);\n  const [topic, setTopic] = useState(blog.topic);\n  const [content, setContent] = useState(blog.content);\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    fetch(`/blogs/${blog.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title: title,\n        topic: topic,\n        content: content,\n        user_id: currentUser.id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((updatedBlog) => onUpdateBlog(updatedBlog));\n  }\n\n  function handleDeleteClick() {\n    fetch(`/blogs/${blog.id}`, {\n      method: \"DELETE\",\n    }).then(() => handleDelete(blog));\n  }\n\n  return (\n    <>\n      <Form className=\"edit-title\" onSubmit={handleFormSubmit}>\n        <Form.Group className=\"mb-3\">\n          <input\n            type=\"text\"\n            name=\"title\"\n            autoComplete=\"off\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </Form.Group>\n        <label>\n          Topic:\n          <select\n            name=\"topic\"\n            value={topic}\n            onChange={(e) => setTopic(e.target.value)}\n          >\n            <option value=\"tech\">tech</option>\n            <option value=\"lifestyle\">lifestyle</option>\n            <option value=\"entertainment\">entertainment</option>\n            <option value=\"pets\">pets</option>\n            <option value=\"miscellaneous\">miscellaneous</option>\n          </select>\n        </label>\n        <br></br>\n        <Form.Group className=\"mb-3\">\n          <textarea\n            name=\"content\"\n            rows=\"10\"\n            cols=\"100\"\n            autoComplete=\"off\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </Form.Group>\n        <Button type=\"submit\" value=\"Save\" variant=\"outline-success\">\n          Save\n        </Button>\n      </Form>\n      <Button variant=\"outline-danger\" size=\"sm\" onClick={handleDeleteClick}>\n        Delete Blog\n      </Button>\n    </>\n  );\n}\n\nexport default EditBlog;\n","import React, { useState } from \"react\";\nimport EditBlog from \"../components/EditBlog\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction BlogEditor({\n  blog,\n  currentUser,\n  updateBlog,\n  deleteBlog,\n  setContent,\n  content,\n}) {\n  const [editBlog, setEditBlog] = useState(false);\n\n  function handleUpdateBlog(updatedBlog) {\n    const updatedBlogs = content.map((blog) => {\n      if (blog.id === updatedBlog.id) {\n        return updatedBlog;\n      } else {\n        return blog;\n      }\n    });\n    setContent(updatedBlogs);\n    setEditBlog(false);\n    updateBlog(updatedBlog);\n  }\n  function handleDelete(deletedBlog) {\n    const updatedBlogs = content.filter((blog) => blog.id !== deletedBlog.id);\n    setContent(updatedBlogs);\n    deleteBlog(deletedBlog);\n  }\n  return (\n    <div key={blog.id}>\n      <Card style={{ height: \"5rem\" }} bg=\"light\" border=\"dark\">\n        <Card.Body>\n          <Card.Title>{blog.title}</Card.Title>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            {blog.topic}\n          </Card.Subtitle>\n        </Card.Body>\n      </Card>\n      <Card.Footer>\n        <small className=\"text-muted\">Total Views: {blog.views}</small>\n      </Card.Footer>\n      <Button onClick={() => setEditBlog((editBlog) => !editBlog)} size=\"sm\">\n        {!editBlog ? \"Edit Content\" : \"Close Edit Page\"}\n      </Button>\n      {editBlog ? (\n        <EditBlog\n          blog={blog}\n          currentUser={currentUser}\n          onUpdateBlog={handleUpdateBlog}\n          handleDelete={handleDelete}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default BlogEditor;\n","import React, { useState, useEffect } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport CardGroup from \"react-bootstrap/CardGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport BlogEditor from \"../components/BlogEditor\";\n\nfunction WelcomePage({\n  currentUser,\n  setCurrentUser,\n  updateBlog,\n  deleteBlog,\n  blogs,\n}) {\n  const [content, setContent] = useState(\n    blogs.filter((blog) => blog.user.id === currentUser.id)\n  );\n  useEffect(() => {\n    setContent(blogs.filter((blog) => blog.user.id === currentUser.id));\n  }, [blogs, currentUser]);\n\n  function handleLogoutClick() {\n    fetch(\"/logout\", { method: \"DELETE\" }).then((res) => {\n      if (res.ok) {\n        setCurrentUser(null);\n      }\n    });\n  }\n  const commentedBlogs = [];\n  const uniqueBlogs = currentUser.commented_blogs.filter((blog) => {\n    const isDuplicate = commentedBlogs.includes(blog.id);\n\n    if (!isDuplicate) {\n      commentedBlogs.push(blog.id);\n\n      return true;\n    }\n\n    return false;\n  });\n\n\n  return (\n    <div>\n      <div>\n        <div>\n          <h1>Welcome {currentUser.username}</h1>\n          <Image\n            src={currentUser.avatar}\n            width=\"75\"\n            height=\"75\"\n            className=\"d-inline-block align-top\"\n            alt=\"Sunil's Gym Logo\"\n            roundedCircle\n          />\n        </div>\n        <Button variant=\"outline-secondary\" onClick={handleLogoutClick}>\n          Log Out\n        </Button>\n        <br></br>\n        <h3>Your Content</h3>\n      </div>\n      <Container>\n        <CardGroup\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(2, 1fr)\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            height: \"50vh\",\n          }}\n        >\n          {content.map((blog) => (\n            <BlogEditor\n              key={blog.id}\n              blog={blog}\n              currentUser={currentUser}\n              updateBlog={updateBlog}\n              deleteBlog={deleteBlog}\n              setContent={setContent}\n              content={content}\n            />\n          ))}\n        </CardGroup>\n      </Container>\n      <div>\n        <p>Blogs you've commented on:</p>\n        {uniqueBlogs.map((blog) => (\n          <li key={blog.id}>{blog.title}</li>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default WelcomePage;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction BlogForm({ currentUser, onAddBlog }) {\n  const [title, setTitle] = useState(\"\");\n  const [topic, setTopic] = useState(\"tech\");\n  const [content, setContent] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    e.target.reset();\n    const blogData = {\n      title: title,\n      topic: topic,\n      content: content,\n      user_id: currentUser.id,\n      views: 0,\n    };\n    fetch(\"/blogs\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(blogData),\n    }).then((res) => {\n      if (res.ok) {\n        res.json().then((blogData) => onAddBlog(blogData));\n      } else {\n        res.json().then((err) => setErrors(err.errors));\n      }\n    });\n    setTitle(\"\");\n    setTopic(\"\");\n    setContent(\"\");\n  }\n\n  return (\n    <>\n      <div>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>\n              Title:\n              <Form.Control\n                type=\"text\"\n                name=\"title\"\n                size=\"40\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </Form.Label>\n          </Form.Group>\n          <label>\n            Topic:\n            <select\n              name=\"topic\"\n              value={topic}\n              onChange={(e) => setTopic(e.target.value)}\n            >\n              <option value=\"tech\">tech</option>\n              <option value=\"lifestyle\">lifestyle</option>\n              <option value=\"entertainment\">entertainment</option>\n              <option value=\"pets\">pets</option>\n              <option value=\"miscellaneous\">miscellaneous</option>\n            </select>\n          </label>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>\n              Content:\n              <textarea\n                name=\"content\"\n                rows=\"20\"\n                cols=\"100\"\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n              />\n            </Form.Label>\n          </Form.Group>\n          <Button type=\"submit\">Make Post</Button>\n        </Form>\n        {errors ? errors.map((err) => <p key={err}>{err}</p>) : null}\n      </div>\n    </>\n  );\n}\n\nexport default BlogForm;\n","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport NavBar from \"./components/NavBar\";\nimport Login from \"./pages/Login\";\nimport Blogs from \"./components/Blogs\";\nimport BlogPage from \"./pages/BlogPage\";\nimport WelcomePage from \"./pages/WelcomePage\";\nimport BlogForm from \"./pages/BlogForm\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [blogs, setBlogs] = useState([]);\n  const [selectedBlog, setSelectedBlog] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/blogs\")\n      .then((res) => res.json())\n      .then((blogs) => setBlogs(blogs));\n  }, []);\n\n  useEffect(() => {\n    // auto-login\n    fetch(\"/auth\").then((res) => {\n      if (res.ok) {\n        res.json().then((user) => setCurrentUser(user));\n      }\n    });\n  }, []);\n\n  if (!currentUser) return <Login setCurrentUser={setCurrentUser} />;\n\n  function updateBlog(updatedBlog) {\n    const updatedBlogs = blogs.map((blog) => {\n      if (blog.id === updatedBlog.id) {\n        return updatedBlog;\n      } else {\n        return blog;\n      }\n    });\n    setBlogs(updatedBlogs);\n  }\n\n  function handleDelete(deletedBlog) {\n    const updatedBlogs = blogs.filter((blog) => blog.id !== deletedBlog.id);\n    console.log(deletedBlog)\n    setBlogs(updatedBlogs);\n    const updatedUser = currentUser;\n    updatedUser.blogs.filter((blog) => blog.id !== deletedBlog.id);\n    setCurrentUser(updatedUser);\n  }\n\n\n  function handleAddBlog(newBlog) {\n    setBlogs((blogs) => [...blogs, newBlog]);\n    const updatedUser = currentUser;\n    updatedUser.blogs.push(newBlog);\n    setCurrentUser(updatedUser);\n  }\n\n  function addViewCount(blog) {\n    fetch(`http://localhost:3000/blogs/${blog.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        views: parseInt(blog.views) + 1,\n      }),\n    })\n      .then((r) => r.json())\n      .then((updatedBlog) => onUpdateBlog(updatedBlog));\n  }\n\n  function onUpdateBlog(updatedBlog) {\n    const updatedBlogs = blogs.map((blog) => {\n      if (blog.id === updatedBlog.id) {\n        return updatedBlog;\n      } else {\n        return blog;\n      }\n    });\n    setBlogs(updatedBlogs);\n  }\n\n  return (\n    <div className=\"App\">\n      <NavBar currentUser={currentUser} setCurrentUser={setCurrentUser} />\n      <Switch>\n        <Route exact path=\"/\">\n          <WelcomePage\n            currentUser={currentUser}\n            setCurrentUser={setCurrentUser}\n            updateBlog={updateBlog}\n            deleteBlog={handleDelete}\n            blogs={blogs}\n          />\n        </Route>\n        <Route exact path=\"/blogs\">\n          <Blogs\n            blogs={blogs}\n            setSelectedBlog={setSelectedBlog}\n            addViewCount={addViewCount}\n          />\n        </Route>\n        <Route exact path={`/blogs/:id`}>\n          <BlogPage selectedBlog={selectedBlog} currentUser={currentUser} setSelectedBlog={setSelectedBlog} />\n        </Route>\n        <Route exact path=\"/createpost\">\n          <BlogForm currentUser={currentUser} onAddBlog={handleAddBlog} />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}